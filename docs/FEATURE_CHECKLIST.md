# Feature Checklist - 需求完整性检查

> 每个新功能开发前必须过一遍

## ✅ 开发前检查

### 1. 功能定义
- [ ] 功能是什么？解决什么问题？
- [ ] 输入是什么？输出是什么？
- [ ] 有没有类似功能可以参考？

### 2. 开关控制
- [ ] 需要全局开关吗？
- [ ] 需要 Agent 级别开关吗？
- [ ] 需要 Session 级别开关吗？
- [ ] 默认值是什么？（开/关）

### 3. 设置集成
- [ ] 有没有现有设置可以复用？
- [ ] 设置 UI 在哪里？需要新增吗？
- [ ] Settings 类型定义需要更新吗？

### 4. 边界情况
- [ ] 开关组合逻辑（AND/OR）？
- [ ] 空值/未定义怎么处理？
- [ ] 错误情况怎么处理？

### 5. 性能影响
- [ ] 会增加多少 token 消耗？
- [ ] 会增加多少延迟？
- [ ] 需要缓存吗？

### 6. 测试
- [ ] 需要单元测试吗？
- [ ] 需要集成测试吗？
- [ ] 边界情况覆盖了吗？

## 📝 示例：Memory 系统接入

| 检查项 | 回答 |
|--------|------|
| 需要全局开关吗？ | ✅ 是，复用 memoryEnabled |
| 需要 Agent 开关吗？ | ✅ 是，复用 enableMemory |
| 开关组合逻辑？ | AND（两个都开才生效） |
| 默认值？ | true（默认开启） |
| 性能影响？ | +几百 token/请求 |

---

*Created: 2026-02-07*
